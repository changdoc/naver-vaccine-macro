# Changelog
All notable changes to this project will be documented in this file.

The format is based on [Keep a Changelog](https://keepachangelog.com/en/1.0.0/),
and this project adheres to [Semantic Versioning](https://semver.org/spec/v2.0.0.html).

## [Unreleased]

## [1.1.6] - 2021-08-12
- 예약 신청 페이지에서 잔여백신 있지만 대상이 아닐때 동작 멈추는 이슈 수정

## [1.1.5] - 2021-08-10
- 맵(카카오 잔여 백신)에서 선택 백신 종류로 탐색하도록 로직 추가 (카카오 인증 후 동작 필요)
- 카카오 맵에서 잔여 백신 종류 선택 상황에서 개별 병원 조회 시도 수가 없을때 동작 멈추는 부분 수정

## [1.1.4] - 2021-08-09
- 맵(네이버 플레이스 잔여 백신)에서 선택 백신 종류로 탐색하도록 로직 추가

## [1.1.3] - 2021-08-06
- 본인 인증 요구되는 상황에서 매크로 동작, 버튼 노출 하지 않도록 수정

## [1.1.2]
- 네이버 맵에서 네이버 graphql로 생성한 병원 목록에 존재하지 않는 경우 멈추고 있는 이슈 수정
- 카카오 맵 잔여 백신 조회 api v2 -> v3로 변경

## [1.1.1] - 2021-07-31
### Changed
- 맵에서 잔여 백신 탐지했으나 네이버 graphql로 생성한 병원 목록에 존재하지 않는 경우 멈추지 않고 새로 고침 계속 수행되도록 수정 

## [1.1.0] - 2021-07-27
### Added
- 맵(네이버 플레이스 잔여 백신, 카카오 잔여 백신)에서 새로 고침 수행하는 스크립트 추가
### Changed
- 작동 버튼에 specific class 제거, inline style 적용
- chrome extension manifest V3로 마이그레이션 -> 웨일에서 동작 안 해서 V2로 다시 롤백
- 사운드 성공 시에만 tada, 나머지는 boing 재생
- chrome 스토어에서 tabs permission 사용되는 곳 없다고 리젝 하여 permission 삭제

## [1.0.9] - 2021-07-20
### Changed
- localStorage 사용하지 않고 chrome.storage사용하여 동작 여부 체크
- 작동 버튼 class 랜덤 문자열로 생성
- 기본,최소 인터벌 2000ms

## [1.0.8] - 2021-07-19
### Changed
- 병원 이름 포함된 텔레그램 메시지 전송 예약 시도 타이밍에 추가
- 예약 신청 방식 다시 변경 (예약 신청 버튼 click event 발생시키는 형태 -> url 변경하여 페이지 이동)

## [1.0.7] - 2021-07-19
### Changed
- 매크로 버튼 추가 동작 타이밍 조금 늦춤
- 텔레그램 메시지 전송시 예약 시도 병원 이름 포함 되도록

## [1.0.6] - 2021-07-16
### Added
- 모든 링크 열기 버튼 추가
### Changed
- 새로고침 주기 저장 후 리로드 시 잘 못 표기 되고 있는 부분 수정
- 새로고침 주기 반영시 0~20ms씩 변화 있도록 동작하게 수정
- 예약신청 페이지에서 에러 감지 되었을 때는 사운드 재생 되지 않도록 수정
- orgCd만으로는 예약 신청 url 접근 불가하여 sid 파라미터 추가

## [1.0.5] - 2021-07-13
### Added
- 링크 여러개 한번에 열기 기능 추가 [Issue#11](https://github.com/changdoc/naver-vaccine-macro/issues/11).
- 백신 선택 옵션 모더나 추가

## [1.0.4.1] - 2021-07-11
### Changed
- 에러 페이지 노출시 매크로 동작 멈춤 증상 수정 FINAL

## [1.0.4] - 2021-07-11
### Changed
- 에러 페이지 검사 시점 백신 종류 리스트 확인 후에 없을때만 수행되도록 변경
- 에러 페이지 검출 됐을때도 확인을 위해 텔레그램 메시지 발송

## [1.0.3] - 2021-07-10
### Added
- graphql response 처리하여 예약 신청 페이지 이동 편하게 할 수 있도록 목록 생성 기능 추가

### Changed
- 예약 신청 방식 변경 (url 변경하여 페이지 이동 -> 예약 신청 버튼 click event 발생시키는 형태)
- 예약 신청 시도 됐을때 결과를 알 수 없는 상태 (질병 관리 본부 측 timeout)에 텔레그램 메시지 구분하여 전송 되게 수정

### Removed
- 본문에 에러 항목 있을때 새로고침 처리 하는 부분 제거 (오동작 방지 추후 문제 없으면 다시 동작하도록 변경 예정)

## [1.0.2] - 2021-07-09
### Added
- 자동 예약 시작 안내 메시지에 여러 창 떠있을때 새로고침 안내 메시지 추가
- 개인정보 제공동의 input 있으면 자동 checked

### Changed
- error 페이지 노출로 판단되어도 매크로 멈추지 않도록 수정
- 예약 결과 텔레그램 메시지 못보내고 있던 부분 수정

## [1.0.1] - 2021-07-08
### Added
- 백신 선택 옵션 화이자 추가
- test 시 시도 했을 예약 시도 url 디버깅 용으로 추가

### Changed
- test off, 예약 시도 될 때 테스트 메시지 전송 되지 않도록 수정

## [1.0.0] - 2021-06-23
- Initial Version
